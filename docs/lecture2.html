<!DOCTYPE html>
<html lang="en"><head>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-html/tabby.min.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.7.32">

  <title>R Math Camp – Lecture 2</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    html { -webkit-text-size-adjust: 100%; }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; font-weight: bold; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="site_libs/revealjs/dist/theme/quarto-5ca74ef045dd60d830acbd2f3b05b610.css">
  <link href="site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Lecture 2</h1>

<div class="quarto-title-authors">
</div>

</section>
<section>
<section id="installing-r" class="title-slide slide level1 center">
<h1>Installing R:</h1>

</section>
<section id="start-by-installing-r" class="slide level2">
<h2>Start by Installing R:</h2>
<p><em>Please attempt this prior to the start of lecture. If you successfully install R and RStudio without any issues, feel free to arrive at 9:15am on Thursday to allow us time to help other students</em></p>
<p>To install R, you should install both R and RStudio. To download and install R, you should click the following:</p>
<p><a href="https://posit.co/download/rstudio-desktop/"><strong>Download and Install R</strong></a></p>
<ul>
<li><p>Once you get to this website, click the <strong>“Download R for macOS” or “Download R for Windows</strong>” depending on your machine.</p></li>
<li><p>To get the R Studio interface, you can click on the same link as above and then click “<strong>Download RStudio Desktop</strong>.”</p></li>
</ul>
<p>If you would like step by step <em>instructions</em>, you can do so <a href="https://moderndive.com/1-getting-started.html">here</a>.</p>
<p>Please tell the teaching team if you need assistance!</p>
</section>
<section id="recap" class="slide level2">
<h2>Recap:</h2>
<p>Who can tell me what the essential functions do?</p>
<ul>
<li><code>filter()</code></li>
</ul>
<div class="fragment">
<ul>
<li><code>arrange()</code></li>
</ul>
</div>
<div class="fragment">
<ul>
<li><code>select()</code></li>
</ul>
</div>
<div class="fragment">
<ul>
<li><code>mutate()</code></li>
</ul>
</div>
<div class="fragment">
<ul>
<li><code>summarise()</code></li>
</ul>
</div>
<div class="fragment">
<ul>
<li><code>group_by()</code></li>
</ul>
<p>I highly recommend reading <a href="https://r4ds.had.co.nz/transform.html">Hadley Wickham’s chapter</a> that has descriptions and examples of key functions.</p>
<ul>
<li>You can do 80% of data exploration and analysis using these.
<ul>
<li>Often, data analysis is knowing what the right question to ask is. Summary statistics are <em>very</em> powerful.</li>
</ul></li>
</ul>
<p>Here is a <a href="https://github.com/rstudio/cheatsheets/blob/main/data-transformation.pdf"><strong>cheatsheet</strong></a> I highly recommend.</p>
</div>
</section>
<section id="goals-for-today" class="slide level2">
<h2>Goals for today:</h2>
<ol type="1">
<li>Reinforce principles of data cleaning and dplyr</li>
<li>Learn about tidy data</li>
<li>Build plots and understand key points of data visualization</li>
<li>Replicate a data visualization produced in real reports</li>
</ol>
</section>
<section id="tidy-data" class="slide level2">
<h2>Tidy data:</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p>A dataset is <em>tidy</em> if it satisfies the following conditions:</p>
<ul>
<li><p>each variable forms a column</p></li>
<li><p>each observation forms a row</p></li>
<li><p>each cell is a single measurement</p></li>
<li><p>long format</p></li>
</ul>
</div><div class="column" style="width:50%;">
<p><img data-src="https://media.geeksforgeeks.org/wp-content/uploads/20231006101503/Tidy-data-in-R.png"></p>
</div></div>
</section>
<section id="untidy-data" class="slide level2">
<h2>Untidy data:</h2>

<img data-src="https://csdl-images.ieeecomputer.org/trans/tg/2022/01/figures/28tvcg01-bartram-3114830-fig-1-source.gif" class="r-stretch"><p>L. Bartram, M. Correll and M. Tory, “Untidy Data: The Unreasonable Effectiveness of Tables” in IEEE Transactions on Visualization &amp; Computer Graphics, vol.&nbsp;28, no. 01, pp.&nbsp;686-696, Jan.&nbsp;2022, doi: 10.1109/TVCG.2021.3114830</p>
</section>
<section id="effective-visualization-is-important" class="slide level2">
<h2>Effective visualization is important!</h2>
<ul>
<li><p>Let’s look at some examples of <em>unique</em> data visualizations <a href="https://viz.wtf/">here</a>.</p></li>
<li><p>Data is only as useful as it is understood.</p>
<ul>
<li>Poor visualization can mislead or confuse: a good plot tells a story, a bad plot hides the truth.</li>
</ul></li>
</ul>
<p>Principles of Effective Data Visualization:</p>
<ul>
<li><p>Clear: not too busy, appropriate labels</p></li>
<li><p>Accurate: don’t truncate axes, don’t mislead color gradients</p></li>
<li><p>Efficient: convey info quickly and remove non-essential components</p></li>
<li><p>Consistent: line chart for trends, bar charts for comparison</p></li>
<li><p>Accessibility: make sure easy to interpret</p></li>
</ul>
</section>
<section id="lots-of-ways-to-plot-in-r" class="slide level2">
<h2>Lots of ways to plot in R:</h2>
<ul>
<li><p>There are many different ways to plot in R</p>
<ul>
<li>You have already seen plots in Base R</li>
</ul></li>
<li><p>There are also lots of many different graphs you can make</p>
<ul>
<li>For a directory, you could see <a href="https://r-graph-gallery.com/"><em>The R Graph Gallery</em></a></li>
</ul></li>
</ul>
<p>We will focus on <strong>ggplot2</strong>:</p>

<img data-src="https://ggplot2.tidyverse.org/logo.png" class="r-stretch quarto-figure-center"><p class="caption"><a href="https://ggplot2.tidyverse.org/">ggplot2 documentation</a></p></section>
<section id="how-to-structure-a-ggplot" class="slide level2">
<h2>How to structure a ggplot:</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><img data-src="https://ggplot2.tidyverse.org/articles/ggplot2_files/figure-html/overview_graphic-1.png" alt="Parts of a chart"> The first 3 are essential, the rest are very helpful!</p>
</div><div class="column" style="width:50%;">
<p>Imagine that you were describing a graph to someone. How would you do it?</p>
<ul>
<li><p>Data to be visualized</p></li>
<li><p>Geometric objects that appear on the plot</p></li>
<li><p>Aesthetic mappings from data to visual components</p></li>
<li><p>Statistics transform data on the way to visualization</p></li>
<li><p>Coordinates organize location of geometric objects</p></li>
<li><p>Scales define the range of values for aesthetics</p></li>
<li><p>Facets group into subplots</p></li>
</ul>
</div></div>
</section>
<section id="ggplot" class="slide level2">
<h2>ggplot</h2>
<p>For today and most of your time, you will just need the <code>ggplot2</code> package from the <code>tidyverse</code> mega-package.</p>
<ul>
<li><p>Consistent with <em>Grammar of Graphics</em></p></li>
<li><p>Flexible</p></li>
<li><p>Layering and theme customization</p></li>
<li><p>Community</p></li>
</ul>
</section>
<section id="general-formula" class="slide level2">
<h2>General Formula:</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a></a><span class="fu">ggplot</span>(<span class="at">data =</span> <span class="sc">&lt;</span>DATA<span class="sc">&gt;</span>,</span>
<span id="cb1-2"><a></a>    <span class="co"># can also specify aes within a geom function</span></span>
<span id="cb1-3"><a></a>    <span class="fu">aes</span>(<span class="at">x=</span><span class="sc">&lt;</span>X<span class="sc">&gt;</span>, <span class="at">y=</span><span class="sc">&lt;</span>Y<span class="sc">&gt;</span>)) <span class="sc">+</span></span>
<span id="cb1-4"><a></a>    <span class="er">&lt;</span>COORDINATE_FUNCTION<span class="sc">&gt;</span> <span class="sc">+</span></span>
<span id="cb1-5"><a></a>    <span class="er">&lt;</span>FACET_FUNCTION<span class="sc">&gt;</span> <span class="sc">+</span></span>
<span id="cb1-6"><a></a>    <span class="er">&lt;</span>SCALE_FUNCTION<span class="sc">&gt;</span> <span class="sc">+</span></span>
<span id="cb1-7"><a></a>    <span class="er">&lt;</span>THEME_FUNCTION<span class="sc">&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<ol type="1">
<li>Data: the data you want to visualize</li>
<li>Layers: geom_ and stat_ : the geometric shapes and statistical summaries representing the data</li>
<li>Aesthetics: <code>aes()</code>: aesthetic mappings of the geometric and statistical objects</li>
<li>Scales: scale_: map between the aesthetic dimensions</li>
<li>Coordinate system: coord_: maps data into the plane of data rectangle</li>
<li>Facets: facet_ arrangement of the data into a grid of plots</li>
<li>Visual themes: <code>theme()</code> and <code>theme_</code>: the overall visual defaults of a plot</li>
</ol>
</div></div>
</section>
<section id="start-with-data" class="slide level2">
<h2>Start with data:</h2>
<p>Load in data and install packages.</p>
<p>Let’s look at data on <a href="https://www.ers.usda.gov/data-products/international-agricultural-productivity">International Agricultural Productivity</a>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb2-2"><a></a></span>
<span id="cb2-3"><a></a><span class="co"># load in the data:</span></span>
<span id="cb2-4"><a></a>tfp <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">'https://ers.usda.gov/sites/default/files/_laserfiche/DataFiles/51270/AgTFPInternational2022_long.csv?v=1647'</span>)</span>
<span id="cb2-5"><a></a></span>
<span id="cb2-6"><a></a><span class="co"># explore the data:</span></span>
<span id="cb2-7"><a></a><span class="fu">head</span>(tfp)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Order FAO ISO3 Country.territory Region   Sub.Region Inc.I Year     Attribute
1     1 159  NGA           Nigeria    SSA SSA, Nigeria  MI-L 1961     TFP_Index
2     1 159  NGA           Nigeria    SSA SSA, Nigeria  MI-L 1961  Outall_Index
3     1 159  NGA           Nigeria    SSA SSA, Nigeria  MI-L 1961   Input_Index
4     1 159  NGA           Nigeria    SSA SSA, Nigeria  MI-L 1961    Land_Index
5     1 159  NGA           Nigeria    SSA SSA, Nigeria  MI-L 1961   Labor_Index
6     1 159  NGA           Nigeria    SSA SSA, Nigeria  MI-L 1961 Capital_Index
    Value
1 88.4780
2 19.2773
3 21.7877
4 40.3669
5 51.4274
6  8.6992</code></pre>
</div>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a></a><span class="fu">tail</span>(tfp)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       Order FAO ISO3 Country.territory                  Region Sub.Region
259803   242  NA                        G20 (19 countries 2021)           
259804   242  NA                        G20 (19 countries 2021)           
259805   242  NA                        G20 (19 countries 2021)           
259806   242  NA                        G20 (19 countries 2021)           
259807   242  NA                        G20 (19 countries 2021)           
259808   242  NA                        G20 (19 countries 2021)           
       Inc.I Year    Attribute        Value
259803       2022    Capital_Q    4689431.5
259804       2022 Fertilizer_Q  163841571.5
259805       2022       Feed_Q 3482819729.3
259806       2022   Cropland_Q     868541.5
259807       2022    Pasture_Q    1645427.0
259808       2022  IrrigArea_Q     225722.2</code></pre>
</div>
</div>
</section>
<section id="creating-the-data" class="slide level2">
<h2>Creating the data</h2>
<p>Let’s say that we want to plot total output over time across the globe. We look at the code book and find that the Output Total Variable is the gross Value of agricultural output from crops, livestock and aquaculture, $1000 at constant 2015 prices.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a></a><span class="co"># get just total output:</span></span>
<span id="cb6-2"><a></a>output <span class="ot">&lt;-</span> tfp <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Attribute <span class="sc">==</span> <span class="st">"Outall_Q"</span>)</span>
<span id="cb6-3"><a></a></span>
<span id="cb6-4"><a></a><span class="co"># look and see what regions we have:</span></span>
<span id="cb6-5"><a></a><span class="fu">table</span>(output<span class="sc">$</span>Region)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
                                      ASIA 
                                      2108 
                               ASIA, Total 
                                        62 
                           ASIA, Total LDC 
                                        62 
                                     China 
                                        62 
                                     CWANA 
                                      1951 
                              CWANA, Total 
                                        62 
                      Developing Countries 
                                        62 
  EU14 (includes E&amp;W Germany, excludes UK) 
                                        62 
EU27 (27 countries as of 2021 excludes UK) 
                                        62 
                                    EUROPE 
                                      2651 
                             EUROPE, Total 
                                        62 
                       Former Soviet Union 
                                        62 
                   G20 (19 countries 2021) 
                                        62 
                               High income 
                                        62 
                  Industrialized Countries 
                                        62 
                                       LAC 
                                      2108 
                                LAC, Total 
                                        62 
                                Low income 
                                        62 
                       Lower-middle income 
                                        62 
                             NORTH AMERICA 
                                       186 
                                   OCEANIA 
                                       186 
            OECD (38 countries as of 2021) 
                                        62 
                                       SSA 
                                      3432 
                                SSA, Total 
                                        62 
                      Transition countries 
                                        62 
                       Upper-middle income 
                                        62 
      Upper-middle income, excluding China 
                                        62 
                                     World 
                                        62 </code></pre>
</div>
</div>
</section>
<section id="creating-the-data-1" class="slide level2">
<h2>Creating the data:</h2>
<p>This is why inspecting your data is important–we have separate observations for different countries, as well as subtotals by region. If we just summarized, then we would over count! Let’s restrict to just the world:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a></a>world_output <span class="ot">&lt;-</span> output <span class="sc">%&gt;%</span> </span>
<span id="cb8-2"><a></a>  <span class="co"># restrict just to the world</span></span>
<span id="cb8-3"><a></a>  <span class="fu">filter</span>(Region <span class="sc">==</span> <span class="st">"World"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb8-4"><a></a>  <span class="co"># convert to billions (we are currently in thousands)</span></span>
<span id="cb8-5"><a></a>  <span class="fu">mutate</span>(<span class="at">value_billions =</span> Value<span class="sc">/</span><span class="dv">1000000</span>) <span class="sc">%&gt;%</span></span>
<span id="cb8-6"><a></a>  <span class="co"># select just the variables that we need:</span></span>
<span id="cb8-7"><a></a>  <span class="fu">select</span>(Year, value_billions)</span>
<span id="cb8-8"><a></a></span>
<span id="cb8-9"><a></a></span>
<span id="cb8-10"><a></a><span class="co"># preview the data:</span></span>
<span id="cb8-11"><a></a><span class="fu">head</span>(world_output)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Year value_billions
1 1961       1081.469
2 1962       1116.667
3 1963       1145.179
4 1964       1184.011
5 1965       1209.248
6 1966       1253.067</code></pre>
</div>
</div>
</section>
<section id="starting-the-plot" class="slide level2">
<h2>Starting the plot:</h2>
<p>Let’s start making the plot:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a></a><span class="co"># start by just specifying the data </span></span>
<span id="cb10-2"><a></a><span class="fu">ggplot</span>(<span class="at">data =</span> world_output)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="lecture2_files/figure-revealjs/unnamed-chunk-5-1.png" width="960" class="r-stretch"></section>
<section id="making-the-plot" class="slide level2">
<h2>Making the plot:</h2>
<p>Let’s map the data to the plot:</p>
<ul>
<li><p>Mapping is a set of instructions on how the data are mapped onto aesthetic attributes of geometric objects. It translates tidy data to the graphics system.</p></li>
<li><p>A mapping can be made by using the <code>aes()</code> function to make pairs of graphical attributes and parts of the data.</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a></a><span class="co"># start by just specifying the data </span></span>
<span id="cb11-2"><a></a><span class="fu">ggplot</span>(<span class="at">data =</span> world_output, <span class="fu">aes</span>(<span class="at">x=</span>Year, <span class="at">y =</span> value_billions))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="lecture2_files/figure-revealjs/unnamed-chunk-6-1.png" width="960" class="r-stretch"></section>
<section id="most-commonly-used-geoms" class="slide level2">
<h2>Most commonly used geoms:</h2>
<ul>
<li><p><code>geom_bar()</code> and <code>geom_col()</code>: bar charts</p></li>
<li><p><code>geom_boxplot()</code>: box and whisker plots</p></li>
<li><p><code>geom_density()</code>: density estimates</p></li>
<li><p><code>geom_jitter()</code>: jitter points</p></li>
<li><p><code>geom_line()</code>: line plots</p></li>
<li><p><code>geom_point()</code>: scatter plots</p></li>
</ul>
<p>To know more about layers, look at <a href="https://ggplot2.tidyverse.org/reference/">this</a>.</p>
</section>
<section id="add-layers" class="slide level2">
<h2>Add Layers:</h2>
<p>This is the essential part of making the data appear on the chart:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a></a><span class="co"># start by just specifying the data </span></span>
<span id="cb12-2"><a></a><span class="fu">ggplot</span>(<span class="at">data =</span> world_output, <span class="fu">aes</span>(<span class="at">x=</span>Year, <span class="at">y =</span> value_billions)) <span class="sc">+</span> </span>
<span id="cb12-3"><a></a>  <span class="fu">geom_point</span>() <span class="co"># add points</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="lecture2_files/figure-revealjs/unnamed-chunk-7-1.png" width="960" class="r-stretch"></section>
<section id="add-layers-1" class="slide level2">
<h2>Add Layers:</h2>
<p>You can add multiple layers to the same chart</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a></a><span class="co"># start by just specifying the data </span></span>
<span id="cb13-2"><a></a><span class="fu">ggplot</span>(<span class="at">data =</span> world_output, <span class="fu">aes</span>(<span class="at">x=</span>Year, <span class="at">y =</span> value_billions)) <span class="sc">+</span> </span>
<span id="cb13-3"><a></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> <span class="co"># add points</span></span>
<span id="cb13-4"><a></a>  <span class="fu">geom_line</span>() <span class="co"># add a line</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="lecture2_files/figure-revealjs/unnamed-chunk-8-1.png" width="960" class="r-stretch"></section></section>
<section>
<section id="adding-theme" class="title-slide slide level1 center">
<h1>Adding Theme:</h1>
<p>We will talk about scales, facets, and coordinates later, once we have more data we want to show, but let’s focus on theme next:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a></a><span class="co"># start by just specifying the data </span></span>
<span id="cb14-2"><a></a><span class="fu">ggplot</span>(<span class="at">data =</span> world_output, <span class="fu">aes</span>(<span class="at">x=</span>Year, <span class="at">y =</span> value_billions)) <span class="sc">+</span> </span>
<span id="cb14-3"><a></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> <span class="co"># add points</span></span>
<span id="cb14-4"><a></a>  <span class="fu">geom_line</span>() <span class="sc">+</span> <span class="co"># add a line</span></span>
<span id="cb14-5"><a></a>  <span class="fu">theme_classic</span>() <span class="co"># add a theme</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="lecture2_files/figure-revealjs/unnamed-chunk-9-1.png" width="960" class="r-stretch"></section>
<section id="add-labels" class="slide level2">
<h2>Add labels:</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a></a><span class="co"># start by just specifying the data </span></span>
<span id="cb15-2"><a></a><span class="fu">ggplot</span>(<span class="at">data =</span> world_output, <span class="fu">aes</span>(<span class="at">x=</span>Year, <span class="at">y =</span> value_billions)) <span class="sc">+</span> </span>
<span id="cb15-3"><a></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> <span class="co"># add points</span></span>
<span id="cb15-4"><a></a>  <span class="fu">geom_line</span>() <span class="sc">+</span> <span class="co"># add a line</span></span>
<span id="cb15-5"><a></a>  <span class="fu">theme_classic</span>() <span class="sc">+</span> <span class="co"># add a theme</span></span>
<span id="cb15-6"><a></a>  <span class="fu">labs</span>(</span>
<span id="cb15-7"><a></a>  <span class="at">x =</span> <span class="st">"Year"</span>,</span>
<span id="cb15-8"><a></a>  <span class="at">y =</span> <span class="st">"Amount (Billions USD, 2015 terms)"</span>,</span>
<span id="cb15-9"><a></a>  <span class="at">title =</span> <span class="st">"Global TFP Output Over Time"</span>,</span>
<span id="cb15-10"><a></a>  <span class="at">caption =</span> <span class="st">"Source: "</span></span>
<span id="cb15-11"><a></a>  ) <span class="co"># add labels</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="lecture2_files/figure-revealjs/unnamed-chunk-10-1.png" width="960" class="r-stretch"></section>
<section id="another-graph" class="slide level2">
<h2>Another graph:</h2>
<p>Let’s try to make a graph the countries of Central America, and keep all of the attributes:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a></a><span class="co"># get a dataset of Cetnral America</span></span>
<span id="cb16-2"><a></a>central_america <span class="ot">&lt;-</span> tfp <span class="sc">|&gt;</span></span>
<span id="cb16-3"><a></a>  <span class="co"># restrict to central america:</span></span>
<span id="cb16-4"><a></a>  <span class="fu">filter</span>(Sub.Region <span class="sc">==</span> <span class="st">"Central America"</span>) <span class="sc">|&gt;</span></span>
<span id="cb16-5"><a></a>  <span class="co"># get rid of the subtotal:</span></span>
<span id="cb16-6"><a></a>  <span class="fu">filter</span>(Country.territory <span class="sc">!=</span> <span class="st">"Central America"</span>) <span class="sc">|&gt;</span></span>
<span id="cb16-7"><a></a>  <span class="co"># select the attributes we want:</span></span>
<span id="cb16-8"><a></a>  <span class="fu">filter</span>(Attribute <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Land_Q"</span>, <span class="st">"Labor_Q"</span>, <span class="st">"Capital_Q"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb16-9"><a></a>  <span class="co"># select the variables we need:</span></span>
<span id="cb16-10"><a></a>  <span class="fu">select</span>(Country.territory, Year, Value, Attribute)</span>
<span id="cb16-11"><a></a></span>
<span id="cb16-12"><a></a></span>
<span id="cb16-13"><a></a> <span class="co"># preview the data:</span></span>
<span id="cb16-14"><a></a>  <span class="fu">head</span>(central_america)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Country.territory Year   Value Attribute
1            Belize 1961 43.1018    Land_Q
2            Belize 1961  9.0096   Labor_Q
3            Belize 1961 24.8566 Capital_Q
4            Belize 1962 43.1018    Land_Q
5            Belize 1962  9.7604   Labor_Q
6            Belize 1962 28.3185 Capital_Q</code></pre>
</div>
</div>
</section>
<section id="build-the-graph" class="slide level2">
<h2>Build the graph:</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a></a><span class="fu">ggplot</span>(<span class="at">data=</span>central_america, <span class="fu">aes</span>(<span class="at">x=</span>Year, <span class="at">y =</span> Value)) <span class="sc">+</span></span>
<span id="cb18-2"><a></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="lecture2_files/figure-revealjs/unnamed-chunk-12-1.png" width="960" class="r-stretch"><p>What’s wrong with this?</p>
</section>
<section id="color-coding-by-country" class="slide level2">
<h2>Color coding by country:</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a></a><span class="fu">ggplot</span>(<span class="at">data=</span>central_america, <span class="fu">aes</span>(<span class="at">x=</span>Year, <span class="at">y =</span> Value, <span class="at">color =</span> Country.territory)) <span class="sc">+</span></span>
<span id="cb19-2"><a></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="lecture2_files/figure-revealjs/unnamed-chunk-13-1.png" width="960" class="r-stretch"><p>Is this better?</p>
</section>
<section id="scaling-the-axis" class="slide level2">
<h2>Scaling the axis:</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a></a><span class="fu">ggplot</span>(<span class="at">data=</span>central_america, <span class="fu">aes</span>(<span class="at">x=</span>Year, <span class="at">y =</span> Value, <span class="at">color =</span> Country.territory)) <span class="sc">+</span></span>
<span id="cb20-2"><a></a>  <span class="fu">scale_y_log10</span>() <span class="sc">+</span></span>
<span id="cb20-3"><a></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="lecture2_files/figure-revealjs/unnamed-chunk-14-1.png" width="960" class="r-stretch"><p>Is this better?</p>
</section>
<section id="separate-graph-by-country" class="slide level2">
<h2>Separate graph by country:</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a></a><span class="fu">ggplot</span>(<span class="at">data=</span>central_america, <span class="fu">aes</span>(<span class="at">x=</span>Year, <span class="at">y =</span> Value, <span class="at">color =</span> Country.territory)) <span class="sc">+</span></span>
<span id="cb21-2"><a></a>  <span class="fu">scale_y_log10</span>() <span class="sc">+</span></span>
<span id="cb21-3"><a></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> Country.territory) <span class="sc">+</span></span>
<span id="cb21-4"><a></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="lecture2_files/figure-revealjs/unnamed-chunk-15-1.png" width="960" class="r-stretch"></section>
<section id="changing-our-color-and-adding-labels" class="slide level2">
<h2>Changing our color and adding labels:</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a></a><span class="fu">ggplot</span>(<span class="at">data=</span>central_america, <span class="fu">aes</span>(<span class="at">x=</span>Year, <span class="at">y =</span> Value, <span class="at">color =</span> Attribute)) <span class="sc">+</span></span>
<span id="cb22-2"><a></a>  <span class="fu">scale_y_log10</span>() <span class="sc">+</span></span>
<span id="cb22-3"><a></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> Country.territory, <span class="at">scales =</span> <span class="st">"free"</span>) <span class="sc">+</span></span>
<span id="cb22-4"><a></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb22-5"><a></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Amount (log Thousands USD)"</span>, <span class="at">title =</span> <span class="st">"Input Components"</span>,</span>
<span id="cb22-6"><a></a>       <span class="at">color =</span> <span class="st">"Input Factor"</span>) <span class="sc">+</span></span>
<span id="cb22-7"><a></a>  <span class="fu">scale_color_manual</span>(<span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Capital"</span>, <span class="st">"Labor"</span>, <span class="st">"Land"</span>),</span>
<span id="cb22-8"><a></a>                     <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"red"</span>, <span class="st">"darkgreen"</span>, <span class="st">"blue"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="lecture2_files/figure-revealjs/unnamed-chunk-16-1.png" width="960" class="r-stretch"></section>
<section id="changing-our-color-and-adding-labels-1" class="slide level2">
<h2>Changing our color and adding labels:</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a></a><span class="fu">ggplot</span>(<span class="at">data=</span>central_america, <span class="fu">aes</span>(<span class="at">x=</span>Year, <span class="at">y =</span> Value, <span class="at">color =</span> Country.territory)) <span class="sc">+</span></span>
<span id="cb23-2"><a></a>  <span class="fu">scale_y_log10</span>() <span class="sc">+</span></span>
<span id="cb23-3"><a></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> Attribute,</span>
<span id="cb23-4"><a></a>             <span class="at">labeller =</span> <span class="fu">as_labeller</span>(<span class="fu">c</span>(</span>
<span id="cb23-5"><a></a>               <span class="st">"Capital_Q"</span> <span class="ot">=</span> <span class="st">"Capital"</span>,</span>
<span id="cb23-6"><a></a>               <span class="st">"Labor_Q"</span> <span class="ot">=</span> <span class="st">"Labor"</span>,</span>
<span id="cb23-7"><a></a>               <span class="st">"Land_Q"</span> <span class="ot">=</span> <span class="st">"Land"</span></span>
<span id="cb23-8"><a></a>             ))) <span class="sc">+</span></span>
<span id="cb23-9"><a></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb23-10"><a></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Amount (log Thousands USD)"</span>, <span class="at">title =</span> <span class="st">"Input Components"</span>, <span class="at">color =</span> <span class="st">"Country"</span>, <span class="at">caption =</span> <span class="st">"Source: USDA ERS"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="lecture2_files/figure-revealjs/unnamed-chunk-17-1.png" width="960" class="r-stretch"></section>
<section id="we-are-going-to-make-this-graph" class="slide level2">
<h2>We are going to make this graph:</h2>

<img data-src="https://ers.usda.gov/sites/default/files/_laserfiche/Charts/61860/ag-productivity_(2).png" class="r-stretch"><p>Take a few minutes and talk to your neighbor about the steps.</p>
</section>
<section id="steps" class="slide level2">
<h2>Steps:</h2>
<ol type="1">
<li>Select/filter what we need from the dataset
<ol type="1">
<li>Hint: we may need to use a combo of region and countries to filter on</li>
</ol></li>
<li>Recalculate Index
<ol type="1">
<li>We are based in 2015 with this data, we want to convert to 1961 base</li>
</ol></li>
<li>Create a base line plot in ggplot</li>
<li>Adjust the theme parameters to make it look similar</li>
</ol>
<p>Work with the group next to you to make this graph, we will check in after a few steps</p>
</section>
<section id="my-rendition" class="slide level2">
<h2>My rendition:</h2>

<img data-src="lecture2_files/figure-revealjs/unnamed-chunk-18-1.png" width="960" class="r-stretch"></section>
<section id="recap-1" class="slide level2">
<h2>Recap:</h2>
<p>What did we learn today?</p>
<ul>
<li><p><strong>dplyr basics</strong>:</p>
<ul>
<li><code>filter()</code> → subset rows<br>
</li>
<li><code>arrange()</code> → order rows<br>
</li>
<li><code>select()</code> → choose columns<br>
</li>
<li><code>mutate()</code> → create/transform variables<br>
</li>
<li><code>summarise()</code> + <code>group_by()</code> → summary statistics by group</li>
</ul></li>
<li><p><strong>Tidy data</strong>: each variable = column, each observation = row, each value = one cell</p></li>
<li><p><strong>Data visualization with ggplot2</strong>:</p>
<ul>
<li>Grammar of Graphics framework (data → aesthetics → geoms → scales → facets → theme)<br>
</li>
<li>Start simple, then layer<br>
</li>
<li>Themes, labels, and scales make plots more effective</li>
</ul></li>
<li><p><strong>Principles of good visualization</strong>:</p>
<ul>
<li>Clear, accurate, efficient, consistent, accessible</li>
</ul></li>
</ul>
<p>✨ Key takeaway: <em>80% of your data exploration can be done with these dplyr verbs and ggplot2 basics!</em></p>


</section></section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<div class="footer footer-default">

</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="site_libs/revealjs/plugin/search/search.js"></script>
  <script src="site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: false,

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
      window.document.addEventListener("DOMContentLoaded", function (event) {
        const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
        tabsets.forEach(function(tabset) {
          const tabby = new Tabby('#' + tabset.id);
        });
        const isCodeAnnotation = (el) => {
          for (const clz of el.classList) {
            if (clz.startsWith('code-annotation-')) {                     
              return true;
            }
          }
          return false;
        }
        const onCopySuccess = function(e) {
          // button target
          const button = e.trigger;
          // don't keep focus
          button.blur();
          // flash "checked"
          button.classList.add('code-copy-button-checked');
          var currentTitle = button.getAttribute("title");
          button.setAttribute("title", "Copied!");
          let tooltip;
          if (window.bootstrap) {
            button.setAttribute("data-bs-toggle", "tooltip");
            button.setAttribute("data-bs-placement", "left");
            button.setAttribute("data-bs-title", "Copied!");
            tooltip = new bootstrap.Tooltip(button, 
              { trigger: "manual", 
                customClass: "code-copy-button-tooltip",
                offset: [0, -8]});
            tooltip.show();    
          }
          setTimeout(function() {
            if (tooltip) {
              tooltip.hide();
              button.removeAttribute("data-bs-title");
              button.removeAttribute("data-bs-toggle");
              button.removeAttribute("data-bs-placement");
            }
            button.setAttribute("title", currentTitle);
            button.classList.remove('code-copy-button-checked');
          }, 1000);
          // clear code selection
          e.clearSelection();
        }
        const getTextToCopy = function(trigger) {
            const codeEl = trigger.previousElementSibling.cloneNode(true);
            for (const childEl of codeEl.children) {
              if (isCodeAnnotation(childEl)) {
                childEl.remove();
              }
            }
            return codeEl.innerText;
        }
        const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
          text: getTextToCopy
        });
        clipboard.on('success', onCopySuccess);
        if (window.document.getElementById('quarto-embedded-source-code-modal')) {
          const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
            text: getTextToCopy,
            container: window.document.getElementById('quarto-embedded-source-code-modal')
          });
          clipboardModal.on('success', onCopySuccess);
        }
          var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
          var mailtoRegex = new RegExp(/^mailto:/);
            var filterRegex = new RegExp("https:\/\/bradleykatcher\.github\.io\/r-mathcamp");
          var isInternal = (href) => {
              return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
          }
          // Inspect non-navigation links and adorn them if external
         var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
          for (var i=0; i<links.length; i++) {
            const link = links[i];
            if (!isInternal(link.href)) {
              // undo the damage that might have been done by quarto-nav.js in the case of
              // links that we want to consider external
              if (link.dataset.originalHref !== undefined) {
                link.href = link.dataset.originalHref;
              }
            }
          }
        function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
          const config = {
            allowHTML: true,
            maxWidth: 500,
            delay: 100,
            arrow: false,
            appendTo: function(el) {
                return el.closest('section.slide') || el.parentElement;
            },
            interactive: true,
            interactiveBorder: 10,
            theme: 'light-border',
            placement: 'bottom-start',
          };
          if (contentFn) {
            config.content = contentFn;
          }
          if (onTriggerFn) {
            config.onTrigger = onTriggerFn;
          }
          if (onUntriggerFn) {
            config.onUntrigger = onUntriggerFn;
          }
            config['offset'] = [0,0];
            config['maxWidth'] = 700;
          window.tippy(el, config); 
        }
        const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
        for (var i=0; i<noterefs.length; i++) {
          const ref = noterefs[i];
          tippyHover(ref, function() {
            // use id or data attribute instead here
            let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
            try { href = new URL(href).hash; } catch {}
            const id = href.replace(/^#\/?/, "");
            const note = window.document.getElementById(id);
            if (note) {
              return note.innerHTML;
            } else {
              return "";
            }
          });
        }
        const findCites = (el) => {
          const parentEl = el.parentElement;
          if (parentEl) {
            const cites = parentEl.dataset.cites;
            if (cites) {
              return {
                el,
                cites: cites.split(' ')
              };
            } else {
              return findCites(el.parentElement)
            }
          } else {
            return undefined;
          }
        };
        var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
        for (var i=0; i<bibliorefs.length; i++) {
          const ref = bibliorefs[i];
          const citeInfo = findCites(ref);
          if (citeInfo) {
            tippyHover(citeInfo.el, function() {
              var popup = window.document.createElement('div');
              citeInfo.cites.forEach(function(cite) {
                var citeDiv = window.document.createElement('div');
                citeDiv.classList.add('hanging-indent');
                citeDiv.classList.add('csl-entry');
                var biblioDiv = window.document.getElementById('ref-' + cite);
                if (biblioDiv) {
                  citeDiv.innerHTML = biblioDiv.innerHTML;
                }
                popup.appendChild(citeDiv);
              });
              return popup.innerHTML;
            });
          }
        }
      });
      </script>
    

</body></html>